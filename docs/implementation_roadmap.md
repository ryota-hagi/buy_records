# 実装ロードマップ

## 即座に開始できるタスク

### Phase 1: 基盤整備（現在のブランチ: feature/search-foundation）

#### タスク分担案

**開発者A: インターフェース設計**
- [x] search-request.ts の作成
- [x] search-response.ts の作成
- [ ] エラーハンドリング統一
- [ ] バリデーション仕様策定

**開発者B: AI統合基盤**
- [ ] キーワード生成サービスの設計
- [ ] プロンプトテンプレート管理
- [ ] AI APIクライアントの統一

**開発者C: 既存コード改修**
- [ ] 現在のJAN検索を新インターフェースに適合
- [ ] APIエンドポイントの再構成
- [ ] テストケースの作成

## 並行開発可能なフェーズ（Phase 1完了後）

### ブランチ作成コマンド
```bash
# Phase 2: 商品名検索
git checkout develop
git checkout -b feature/product-name-search

# Phase 3: 画像検索
git checkout develop
git checkout -b feature/image-search

# Phase 4: 自然言語検索
git checkout develop
git checkout -b feature/natural-language-search
```

### 各フェーズの開始条件

**Phase 2: 商品名検索**
- 必要: SearchRequestインターフェース完成
- 必要: キーワード生成サービスの基本実装

**Phase 3: 画像検索**
- 必要: SearchRequestインターフェース完成
- 必要: 画像アップロードAPIの設計
- 独立: Vision API統合（既存のものを活用）

**Phase 4: 自然言語検索**
- 必要: SearchRequestインターフェース完成
- 独立: NLPサービスの実装

## 実装優先順位

### 高優先度（ビジネス価値が高い）
1. **商品名検索** - 最も一般的な検索方法
2. **画像検索（OCR）** - JANコード抽出で既存機能を強化

### 中優先度
3. **自然言語検索** - UX向上に貢献
4. **画像検索（商品認識）** - 技術的に挑戦的

### 低優先度
5. **プラットフォーム別最適化** - 既存機能の改善

## 週次マイルストーン

### Week 1
- [ ] 基盤整備完了
- [ ] developブランチにマージ
- [ ] 並行開発ブランチ作成

### Week 2
- [ ] 商品名検索MVP完成
- [ ] 画像アップロード機能実装
- [ ] 自然言語パーサー基本実装

### Week 3
- [ ] 商品名検索の統合テスト
- [ ] OCR機能の実装
- [ ] 自然言語からの条件抽出

### Week 4
- [ ] 画像検索ベータ版完成
- [ ] 全検索タイプの統合
- [ ] パフォーマンステスト

### Week 5
- [ ] バグ修正と最適化
- [ ] ドキュメント整備
- [ ] デプロイ準備

## コードレビューとマージ戦略

1. **機能ブランチ → develop**
   - PR作成時に自動テスト実行
   - 最低1名のレビュー必須

2. **develop → main**
   - 全機能の統合テスト合格
   - パフォーマンステスト合格
   - ステージング環境での動作確認

## 並行開発の注意点

1. **インターフェースの変更禁止**
   - Phase 1完了後はインターフェースを凍結
   - 変更が必要な場合は全チームで協議

2. **共通コンポーネントの管理**
   - UI コンポーネントは`components/common/`に配置
   - ユーティリティ関数は`utils/`に配置

3. **定期的な同期**
   - 毎日developブランチをpull
   - 週2回の進捗共有ミーティング

## リソース割り当て案

### 1人開発の場合
- Phase 1: 1週間
- Phase 2-4: 各1週間（順次実装）
- Phase 5: 3日

### 3人開発の場合
- Phase 1: 3日（全員）
- Phase 2-4: 1週間（並行）
- Phase 5: 2日（全員）

### 5人開発の場合
- Phase 1: 2日（全員）
- Phase 2: 3日（2人）
- Phase 3: 5日（2人）
- Phase 4: 3日（1人）
- Phase 5: 2日（全員）